# Enrollment Readiness / Student Demand {#sec-06Enroll}

Before explaining each of the metrics and their sources in detail, it is important to note that although two of the metrics within Enrollment Readiness / Student Demand may sound similar, they are actually quite different. Although enrollment goals may be similar to capacity at some schools and campuses, in many cases they differ in meaningful ways.

Enrollment targets vary by grade level and location, and are specific to an individual campus and context. Capacity, however, is based on a consistent estimate based on the current grade levels offered within a school. It is meant to measure how many students a school is currently educating versus how much they could this year. Enrollment goals may be well below the capacity for a given school or campus.

## Percentage Meeting Enrollment Goal {#sec-06Goal}

Each year, each IDEA school has an assigned enrollment target or goal for each grade level they enroll, set by the Enrollment and School Launch Team. \[Add information about who sets these and how\].

For this metric, a single unit (grade level, school, campus, or region) is considered to have met its enrollment goal if the total number of students enrolled on the First Day Of Persistence (FDOP) is at or above the total enrollment goal for that unit.

If one school is under-enrolled but another is over-enrolled, a full campus may still meet its overall enrollment goal. For example, at FDOP 2025, enrollment at Austin Health Professions Academy was 13 students below its target (not meeting enrollment goal), but Austin Health Professions College Prep was 46 above its target (meeting enrollment goal). Therefore, the full Austin Health Professions campus was 33 students above its target and considered to be meeting its enrollment goal.

| Unit | Enrollment at FDOP | Target Enrollment | Meets Goal? |
|:--:|:--:|:--:|:--:|
| Health Professions Academy | 335 | 348 | No |
| Health Professions College Prep | 434 | 388 | Yes |
| **Health Professions Campus Total** | **769** | **736** | **Yes** |

: Example of Under- and Over-Enrollment at Individual Schools with a Campus Meeting Enrollment Goal

The percentage meeting enrollment goal within a unit is based on the number of sub-units, rather than the total number of students and enrollment target. For example, percentage of schools within a region meeting enrollment goal is calculated as:

$${\% \text{ Schools Meeting Enrollment Goal}} = \frac{\# \text{ of Schools Meeting Enrollment Goal}}{\text{Total } \# \text{ of Schools within Region}}*100$$

Whereas the percentage of campuses within a region meeting enrollment goal is calculated as:

$${\% \text{ Campuses Meeting Enrollment Goal}} = \frac{\# \text{ of Campuses Meeting Enrollment Goal}}{\text{Total } \# \text{ of Campuses within Region}}*100$$

### Notes & Exclusions

-   Two IDEA schools, Travis Academy and A. W. Brown Academy, currently have PreK classes and enrollment goals. We have excluded PreK students and enrollment goals from this metric.

### Source {#sec-Enrollsource}

The enrollment metric uses both enrollment targets and attendance data from the data warehouse [@EnrollTarg24; @EnrollTarg25; @EnrollData].

Because the enrollment data includes an data includes an enormous amount of data, one row for every day for each student, it takes a very long time to pull from the warehouse. Therefore, I built a few steps into the code that greatly increases the code length, but greatly decreases the time it takes to pull the data for us.

First, we pull only a few variables from the enrollment details table for the academic years of interest to help us determine the appropriate First Day of Persistence (FDOP) for each school. FDOP is the 11th day of school, which typically14 calendar days after the First Day of School (FDOS). We use the FDOS to determine FDOP and then use that to create an incredibly long filter we can use to pull enrollment data only for each individual school's FDOP.

```{r Enroll}
#| eval: false
#| include: true


## Connect to Enrollment
enrollment_conn1 <- get_table(.table_name = "EnrollmentDetails",
                              .schema = "Dashboard",
                              .database_name = "Enrollment",
                              .server_name = "RGVPDSD-DWPRD1"
                             ) %>%
  select(
    SchoolNumber,
    AcademicYear, 
    FDOS, 
    Instance
  ) %>%
  filter(
    AcademicYear == "2024-2025" | 
    AcademicYear == "2025-2026"
  ) %>%
  distinct() %>%
  collect()


## This creates a list we can copy and paste as a REALLY long filter.
enrollment_conn1 <- enrollment_conn1 %>%
  filter(str_detect(Instance, "TX")) %>%
  mutate(
    FDOP = case_when(
      FDOS == "2024-08-05"  ~ "2024-08-19",
      FDOS == "2024-08-08"  ~ "2024-08-22",
      FDOS == "2024-08-12"  ~ "2024-08-26",
      FDOS == "2024-08-13"  ~ "2024-08-27",
      FDOS == "2024-08-15"  ~ "2024-08-29",
      FDOS == "2025-08-08"  ~ "2025-08-22",
      FDOS == "2025-08-14"  ~ "2025-08-28",
      FDOS == "2025-08-13"  ~ "2025-08-27",
      FDOS == "2025-08-04"  ~ "2025-08-18",
      FDOS == "2025-08-11"  ~ "2025-08-25",
      FDOS == "2025-08-07"  ~ "2025-08-21"
    ),
    filter = paste0("schoolnumber == ", SchoolNumber, " & AttDate == '", FDOP, "'")
  ) %>%
  select(filter) %>%
  distinct()

list <- paste(enrollment_conn1$filter, collapse = "|")

list 

```

I copy and paste the list into Microsoft Word, add paragraph breaks after "\|" for formatting, and then copy and paste that as a filter when pulling full enrollment data. The result is a filter that is hundreds of lines long.

```{r Enroll3}
#| eval: false
#| include: true


enrollment_conn <- get_table(.table_name = "EnrollmentDetails",
                             .schema = "Dashboard",
                             .database_name = "Enrollment",
                             .server_name = "RGVPDSD-DWPRD1"
                            ) %>%
  filter(SchoolNumber == 109907025 & AttDate == '2024-08-29'|
         SchoolNumber == 108807043 & AttDate == '2024-08-29' |
         SchoolNumber == 108807028 & AttDate == '2024-08-27' |
         SchoolNumber == 109907018 & AttDate == '2025-08-28' | 
         #...
         SchoolNumber == 108807025 & AttDate == '2024-08-27'
        ) %>% 

```

Once the appropriate data has been pulled into R, the code sums the total number of students enrolled within each unit on FDOP (`Membership == 1` , indicating that the student was enrolled as a full-time student on that day) and compares to the enrollment targets for that unit.

## Percentage of Schools/Campuses Under 85% Capacity (Model 1501) {#sec-06Cap}

Capacity metrics estimate the overall current capacity IDEA schools have if their buildings were full. You can think of it as how much IDEA could grow within a certain geographic region without having to build or acquire new buildings; areas which are far under capacity could continue to grow within their current physical spaces.

Capacity is determined by what we refer to as the Model 1501. Each grade level is assigned a consistent capacity across campuses, summing up to a campus capacity of 1,501 students (hence the title "Model 1501").

+------------------------+--------------+--------------+
| School Type            | Grade Level  | Capacity     |
+:======================:+:============:+:============:+
| Academy                | K\           | 116\         |
|                        | 1\           | 116\         |
|                        | 2\           | 116\         |
|                        | 3\           | 116\         |
|                        | 4\           | 116\         |
|                        | 5            | 116          |
+------------------------+--------------+--------------+
| **Academy Total**      | **K-5**      | **696**      |
+------------------------+--------------+--------------+
| College Prep           | 6\           | 120\         |
|                        | 7\           | 120\         |
|                        | 8\           | 120\         |
|                        | 9\           | 120\         |
|                        | 10\          | 120\         |
|                        | 11\          | 108\         |
|                        | 12           | 97           |
+------------------------+--------------+--------------+
| **College Prep Total** | **6-12**     | **805**      |
+------------------------+--------------+--------------+
| ***Campus Total***     | ***K-12***   | ***1501***   |
+------------------------+--------------+--------------+

: Model 1501 Capacity by Grade Level and School Type

Historically, the model was set at a lower capacity, so you may occasionally hear references to a value of \[1411?????\].

The percentage meeting enrollment goal within a unit is based on the number of sub-units, rather than the total number of students and enrollment target. For example, percentage of schools within a region meeting enrollment goal is calculated as:

$${\% \text{ Away from Capacity}} = \frac{\# \text{ of Students Enrolled at FDOP} - \text{Capacity for Unit}}{\text{Capacity for Unit}}*100$$

Any school or campus with a % Away from Model 1501 Capacity less than -25% are marked as as "\<85% of Capacity", and percentage of units within region below 85% capacity is calculated as:

$${\% \text{ Units < 85% Capacity}} = \frac{\# \text{ of Units < 85% Capacity}}{\text{Total } \# \text{ of Units within Region}}*100$$

### Notes & Exclusions

-   Two IDEA schools, Travis Academy and A. W. Brown Academy, currently have PreK classes. We have excluded PreK students from this metric.

### Source

The source for percentage below capacity is the same as the source for the enrollment target metric. See @sec-Enrollsource.

## Student Annual Persistence {#sec-06Persist}

According to the RAP Manual [@RAPMan],

> Student Persistence is one of the most important measures that Chiefs, VPs, and School Leaders are always monitoring to understand our efforts in providing high quality services to our students and families. In order for a student to actualize the benefits of IDEA, the student must persist through high school. We say a student persisted if the student was enrolled and attended school for the entire academic school year, returned the following school year, and was enrolled and attending on \[the "First Day of Persistence"\]. In other words, the student was enrolled and attended school on the “First Day of Persistence” (FDOP) for two consecutive years. The only exception to this are New Students that enroll after the FDOP, attend the entire year, return the following year, and are enrolled and attending for FDOP. These new students were not enrolled and attending for two consecutive FDOPs because they enrolled after the first FDOP but would be considered as persisting.

Persistence data can be found in a few different places. Official persistence data is stored in the Data Warehouse in the Fact.PersistenceCode and Fact.PersistenceCodeHistorical tables. These include clear indicators of whether a student is considered to be a Leaver, a student leaving before FDOP. However, at the beginning of the school year, when we are likely to update the persistence metrics for the Growth Scorecards, the current school years' persistence data may not yet be in the PersistenceCode table. In Fall of 2025, we had to estimate persistence for the current academic year using attendance data.

According to the RAP Manual, there are two possible formulas for calculating persistence [@RAPMan], which provide slightly different estimates of persistence:

$$
1)\text{ } \% \text{ Persistence} = \left(1-\frac{\# \text{ Leavers}}{\text{Total } \# \text{ of Students}}\right)*100 
$$

$$
2)\text{ } \% \text{ Persistence} = \left(1-\frac{\# \text{ FDOPLeavers}}{(\# \text{ FDOP Enrolled}) + (\# \text{ of FDOP New Entries})}\right)*100
$$

For the Fall 2025 Growth Scorecards tracking persistence from 2023-2024 to 2024-2025, we used Equation 1.

As stated above, when current data is not available from a persistence table, we must estimate student persistence using attendance data. This estimate is imperfect and does *not* account for students who enrolled after FDOP in year 1 (New Entries). Therefore, **student persistence calculated from the persistence tables are not directly comparable to student persistence estimated from attendance data.**

$$
\text{ } \% \text{ Persistence} = \left(1 - \frac{(\# \text{ Absent FDOP Year 2)} + (\#\text{ Not Enrolled on FDOP Year 2)}}{\# \text{ Present on FDOP Year 1}}\right)*100
$$

### Notes & Exclusions

-   Across all options for persistence calculations, students enrolled in 12th grade in Year 1 who do not return for Year 2 are excluded from the calculations (from both the numerator and denominator).
-   Two IDEA schools, Travis Academy and A. W. Brown Academy, currently have PreK classes and enrollment goals. We have excluded PreK students and enrollment goals from this metric.
-   Persistence calculated from the official persistence tables is calculated differently than estimates calculated from attendance data. The later does *not* account for students who enrolled after FDOP in year 1 (New Entries). Therefore, student persistence calculated from the persistence tables are not directly comparable to student persistence estimated from attendance data.

### Source

As described above, there are multiple different sources and calculation possibilities for student persistence. Ideally, we would use calculations from the official persistence tables (current or historical), but persistence tables are not always current at the beginning of the school year.

For the Fall 2025 scorecard, we used estimates from the attendance data. The code does, however, also pull the previous year's official persistence data and create a tab in the Excel output workbook with the relevant data.

Like with enrollment data, the attendance data includes a row for each day for each student. We take a similar approach as describe in @sec-06Goal with creating a long filter to more efficiently pull the data.

```{r Persist}
#| eval: false
#| include: true

# Using attendence on FDOP
attend_conn <- get_table(.table_name = "Students",
                         .schema = "Attendance",
                         .database_name = "PROD1",
                         .server_name = "RGVPDSD-DWPRD1")

## Pull data for FDOP
attend_fdop <- attend_conn %>%
  select(AcademicYear,
         schoolnumber,
         StateSchoolNumber,
         SchoolShortName,
         SchoolType,
         RegionDescription,
         GradeLevelID,
         AttStudentKey,
         StudentNumber,
         WeekNumber,
         DateNumber,
         AttDate,
         Membership,
         Absences,
         ContinuouslyEnrolled,
         PersistenceType,
         Enroll) %>%
  filter(schoolnumber == 137 & AttDate == '2024-08-22'|
         schoolnumber == 108807123 & AttDate == '2024-08-27'|
         schoolnumber == 108807185 & AttDate == '2024-08-19'|
         # ..
         schoolnumber == 108807103 & AttDate == '2025-08-28'
        ) %>%
  collect()

```
