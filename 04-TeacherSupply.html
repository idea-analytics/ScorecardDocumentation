<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Teacher Supply – IDEA Growth Scorecard Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05-Leadership.html" rel="next">
<link href="./03-CapitalCapacity.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04-TeacherSupply.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Teacher Supply</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">IDEA Growth Scorecard Documentation</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction / Index</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-SchoolPerformance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">School Performance Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-FinancialViability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Financial Viability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-CapitalCapacity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Capital Capacity</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-TeacherSupply.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Teacher Supply</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-Leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Leadership and Headquarters Bandwidth</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-Enrollment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Enrollment Readiness / Student Demand</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-TeachHire" id="toc-sec-TeachHire" class="nav-link active" data-scroll-target="#sec-TeachHire"><span class="header-section-number">4.1</span> Percent of Teaching Positions Hired by First Day of Instruction</a></li>
  <li><a href="#sec-YOYTeach" id="toc-sec-YOYTeach" class="nav-link" data-scroll-target="#sec-YOYTeach"><span class="header-section-number">4.2</span> Year Over Year Teacher Retention</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-TeacherSupply" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Teacher Supply</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-TeachHire" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="sec-TeachHire"><span class="header-section-number">4.1</span> Percent of Teaching Positions Hired by First Day of Instruction</h2>
<p>text!</p>
</section>
<section id="sec-YOYTeach" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="sec-YOYTeach"><span class="header-section-number">4.2</span> Year Over Year Teacher Retention</h2>
<p>Staff Retention Definitions</p>
<ul>
<li><p>The formula for calculating retention is as follows: <span class="math display">\[\frac{1-\text{Leaver}}{\text{Headcount}}*100\]</span></p></li>
<li><p>The 2024-25 Staff Retention Year is defined as 07/1/2024 – 08/14/2025 (specific employee categories may have a different start to their Staff Retention Year based on their work calendar, but will not be earlier than 07/01/2024 – details below).</p></li>
<li><p>“Headcount” is defined as the sum of all full-time, permanent employees who worked at IDEA Public Schools between 07/1/2024 and 08/14/2025. Examples of staff job groups that fall into this category are Administrative Professionals, Campus Administrative Professionals, Clerical Technical, Instructional Support, Teachers, and Manual Trades.</p>
<ul>
<li><p>Retention includes any staff member who is classified as full-time, permanent staff, including partial FTE staff. Descriptions of the employee classifications can be found in the Employee Handbook.</p></li>
<li><p>Chiefs are included in Executive Office retention, not the retention for their individual areas.</p></li>
<li><p>Principals-in-Residence count toward the retention of the school they are assigned to for their residency.</p></li>
<li><p>Founding Teacher Fellows count toward the retention of the school at which they are assigned for their fellowship.</p></li>
<li><p>All non-year-round staff who leave prior to the first day of their work calendar for the current staff retention year will be coded with an exit date prior to 08/15/2025 to ensure they do not count toward following staff retention year.</p></li>
<li><p>Exclusions: Employees classified as anything other than full-time, permanent employees are excluded from Headcount and Leavers. This includes, but is not limited to, the following titles:</p>
<ul>
<li><p>Enrichment Instructor, Enrichment Specialist, 21st Century Enrichment Specialist</p></li>
<li><p>Intern, including Summer Interns and Year-round Interns</p></li>
<li><p>After School Care</p></li>
<li><p>Parent Liaison</p></li>
<li><p>Monitor, including Bus Monitor, Flex Monitor, Lunch Monitor, Recess Monitor, and School Monitor</p></li>
<li><p>Camp Rio Program Staff &amp; Camp Counselor</p></li>
<li><p>FSS Substitute</p></li>
<li><p>Tutor</p></li>
<li><p>Athletic Coach</p></li>
<li><p>IDEA Substitute Teacher</p></li>
</ul></li>
<li><p>“Leaver” is defined as the sum of all full-time, permanent employees who have an effective exit date between 07/1/2024 and 08/14/2025.</p>
<ul>
<li><p>Full-time, permanent employees who transition into non-full-time permanent roles during the current Retention Year will count as leavers.</p></li>
<li><p>Full-time, permanent employees who retire will count as leavers.</p></li>
<li><p>The last full-time role an employee holds is the position held accountable for retention. If an employee changes during the year from full time role A to full time role B then leaves the organization, they will be counted as a leaver for role B.</p>
<ul>
<li>Example: An API transitions to teacher in October and decides to leave at the end of the year. They will be counted as a teacher leaver</li>
</ul></li>
<li><p>The last location an employee is based at and held a full-time role that they reported to is held accountable for retention of that employee. If an employee changes during the year from location A to location B, then leaves the organization, they will be counted as a leaver for location B as long as they reported to work at Location B.</p>
<ul>
<li>Example: A teacher transfers from IDEA Pharr to IDEA Rise in December and then leaves at the end of the year. They will be counted as a teacher leaver for IDEA Rise.</li>
</ul></li>
<li><p>Employees moving from a permanent, full-time position to another permanent, full-time position are not considered leavers.</p></li>
<li><p>Full-time employees in a permanent in the current retention year who transition to a non-full-time permanent role during the same retention year will count as a leaver.</p></li>
<li><p>Permanent, full-time and permanent, part-time employees who leave IDEA Public Schools and return to IDEA Public Schools in a permanent, full-time or permanent, part-time capacity during the same retention year will not count as leavers.</p></li>
<li><p>Employees leaving and returning to the organization in a retention-eligible role with a start date in the same school year (re-hire) do not count as leavers. Those employees who return to work after the start of the next retention year will count as leavers.</p></li>
<li><p>Positions that are eliminated due to budget constraints and/or grant-funded positions that are terminated because the grant concluded and was not continued will not count as leavers.</p></li>
<li><p>Employees who are reassigned but decline the reassignment and leave the organization will count as leavers attributed to the manager/campus for which they were employed on their last day of employment.</p></li>
<li><p>Positions that are eliminated for other reasons will count as leavers.</p></li>
<li><p>Employees coded with the following termination codes will not be counted as leavers:</p>
<ul>
<li><p>IN04 - Death, IN05 - Ineligible For Hire, IN08 - Failed I-9 Verification, OT01 - Entity Change, OT02 - Employee did Not Start.</p></li>
<li><p>OT02 – Employee did Not Start will only apply to new hires who did not begin a position at IDEA, not transfers. o Staff in National roles will not be counted in regional staff retention. They will only count as headcount and leavers for their Chief Area team.</p></li>
</ul></li>
<li><p>Staff members eligible to retire through their state employee retirement program and submit required paperwork within the staff retention year deadlines will not count as leavers once their official retirement is verified. o Leavers during the current staff retention year who are not exited before retention results for the current staff retention year are finalized, will count as leavers for the following staff retention year.</p></li>
<li><p>Leaver role, status, or location changes not entered within the current staff retention year that are not entered before retention results for current staff retention year are finalized will not be captured in the final staff retention report of the current staff retention year.</p></li>
</ul></li>
</ul></li>
<li><p>“School” is defined as either Academy or College Prep, typically the unit led by a principal.</p></li>
<li><p>“Campus” is defined as Academy + College Prep; typically, both schools at one location.</p></li>
<li><p>The final retention metric will be rounded to the nearest whole number based on the tenths digit. (If .xx is ≥ .50, then it will round up. If .xx is &lt;.50, then it will round down.) For example:</p>
<ul>
<li><p>84.50% will round to 85%</p></li>
<li><p>84.49% will round down to 84%</p></li>
</ul></li>
<li><p>Staff who are shared between Academy and College Prep will count 50% toward Academy, and 50% toward College Prep head count and leaver count. This includes all shared staff including, but not limited to, instructional staff, operations staff, and any school support staff. This ensures that shared staff, including operations, impact school retention. The formula is as follows: <span class="math display">\[\text{School Retention} = 1-\frac{\text{School Leavers} + 0.5(\text{Shared Staff Leavers})}{\text{School Headcount} + 0.5(\text{Shared Staff Headcount})} \]</span></p></li>
</ul>
<p>All IDEA Public Schools Teacher Retention</p>
<ul>
<li><p>“Headcount” is defined as the sum of all full-time, permanent employees in the Teacher Job Group who work at IDEA Public Schools between the start of their 2024-25 Work Calendar and 08/14/2025.</p>
<ul>
<li><p>Instructional staff (teachers and co-teachers/instructional support) and campus administrative professionals will count toward the school at which they work, not the campus.</p></li>
<li><p>Campus support staff (i.e.&nbsp;administrative assistants, testing coordinators, 21st century site coordinators) will count toward campus and school retention if they are shared and toward school retention if they are not shared.</p></li>
</ul></li>
<li><p>“Leaver” is defined as the sum of all full-time, permanent Teachers who have an effective exit date between the first day of their 24-25 School Year work calendar (even if they participate in summer school or summer professional development) and 08/14/2025.</p>
<ul>
<li><p>All teachers who leave prior 08/15/2025 will be coded with an exit date prior to 08/15/2025 to ensure they do not count toward 2025-2026 retention.</p>
<ul>
<li>Co-teachers and Founding Teacher Fellows do not count toward Teacher retention, to better align with PEIMS Teacher reporting, but do count toward All Staff retention. These roles will be included in the school All Staff retention but not in the school Teacher retention.</li>
</ul></li>
</ul></li>
<li><p>The teacher retention year begins on the first day of their work calendar, not the first day of summer PD. If a returning teacher no-shows for the first days of all-staff BOY PD, even if s/he were part of summer PD, s/eh will be counted as a leaver for the previous school year.</p>
<ul>
<li><p>If a New Hire is a no-show on the first day of their work calendar, they should be coded as OT02 – Employee did not start, which will exclude them from the count.o If an employee shows up for the first day of their work calendar and subsequently leaves, they will count toward retention that year.</p></li>
<li><p>Flex Teachers and Flex Co-Teachers count toward the retention for the Region in which they were hired, unless they have officially transitioned to a permanent campus-based teaching role.</p></li>
</ul></li>
<li><p>Flex Teachers and Flex Co-Teachers will not count toward the retention for the home campus at which they are based before they are assigned to a permanent campus-based role.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03-CapitalCapacity.html" class="pagination-link" aria-label="Capital Capacity">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Capital Capacity</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05-Leadership.html" class="pagination-link" aria-label="Leadership and Headquarters Bandwidth">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Leadership and Headquarters Bandwidth</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>